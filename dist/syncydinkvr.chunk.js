(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{391:function(e,t,n){"use strict";n.r(t);var r=n(4),o=n(10),s=n(61),i=n.n(s),l=(n(392),function(e,t,n,r){var o,s=arguments.length,i=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i}),a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const c=n(393);let u=class AframeVideoPlayer extends r.default{constructor(){super(...arguments),this.vrControlButton=null,this.videoElementId=null}mounted(){AFRAME.components.hasOwnProperty("stereo")||(AFRAME.registerComponent("stereo",c.stereo_component),AFRAME.registerComponent("stereocam",c.stereocam_component));const e=i.a.getComponent("Button"),t=()=>{this.RunVRMode()},n=i.a.extend(i.a.getComponent("Button"),{constructor:function(){e.apply(this,arguments),this.controlText("VR")},handleClick:function(){t()}});i.a.registerComponent("vrButton",n),this.currentPlayer&&this.OnCurrentPlayerChange()}OnCurrentPlayerChange(){this.vrControlButton=this.currentPlayer.getChild("controlBar").addChild("vrButton",{id:"vr-aframe-button",text:"VR"},12),this.vrControlButton.el().innerHTML=this.vrControlButton.el().innerHTML+"<b>VR</b>";const e=this.currentPlayer.el().querySelector("video");null!=e?this.videoElementId=e.id:console.log("Can't find video element for aframe setup?")}beforeDestroy(){this.currentPlayer.getChild("controlBar").removeChild(this.vrControlButton),this.vrControlButton=null}RunVRMode(){const e=document.querySelector("a-scene"),t=document.createElement("a-camera");t.setAttribute("position","0 0 10"),t.setAttribute("stereocam",{eye:"left"}),e.appendChild(t);const n=document.createElement("a-entity");n.setAttribute("geometry",{primitive:"sphere",radius:100,segmentsHeight:64,segmentsWidth:64}),n.setAttribute("scale","-1 1 1"),n.setAttribute("material",{shader:"flat",npot:!0,side:"back",src:"#"+this.videoElementId}),n.setAttribute("stereo",{eye:"left",mode:"half"}),e.appendChild(n);const r=document.createElement("a-entity");r.setAttribute("geometry",{primitive:"sphere",radius:100,segmentsHeight:64,segmentsWidth:64}),r.setAttribute("scale","-1 1 1"),r.setAttribute("material",{shader:"flat",npot:!0,side:"back",src:"#"+this.videoElementId}),r.setAttribute("stereo",{eye:"right",mode:"half"}),e.appendChild(r),document.querySelector("a-scene").enterVR()}};l([Object(o.b)({default:null}),a("design:type",Object)],u.prototype,"currentPlayer",void 0),l([Object(o.c)("currentPlayer"),a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],u.prototype,"OnCurrentPlayerChange",null);var d=u=l([Object(o.a)({})],u),m=n(14),p=Object(m.a)(d,function(){var e=this.$createElement;return(this._self._c||e)("a-scene",{attrs:{embedded:"","vr-mode-ui":"enabled: false"}})},[],!1,null,null,null);t.default=p.exports}}]);
//# sourceMappingURL=syncydinkvr.chunk.js.map